@using System.Security.Claims
@page "/cloud/{cloudId}"

<PageTitle>cloud-@_cloudName</PageTitle>

@code {
    [Parameter]
    public string CloudId { get; set; } = null!;
    
    private string? _cloudName;
    
    protected override async Task OnInitializedAsync()
    {
        _cloudName = HttpContext?.User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
    }
    
    [CascadingParameter]
    public HttpContext? HttpContext { get; set; }
}